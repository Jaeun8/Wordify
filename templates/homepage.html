<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wordify</title>
  <link rel="stylesheet" href="../static/homepage.css" />
</head>
<body>
  <header>
    <a href="homepage.html" class="logo">WORD<span>IFY</span></a>
    <nav>
      <ul>
        <li>
          <form action="streaks.html">
            <button type="submit" class="nav-btn streaks">Streaks</button>
          </form>
        </li>
        <li>
          {% if current_user.is_authenticated %}
            <form action="/logout">
              <button type="submit" class="nav-btn">Logout</button>
            </form>
          {% else %}
            <form action="/login">
              <button type="submit" class="nav-btn">Login/Signup</button>
            </form>
          {% endif %}
        </li>
        <li>
          <div class="dropdown">
            <button class="dropbtn"> 
              <span class="dropbtn_icon">menu</span>
            </button>
            <div class="dropdown-content">
              <a href="streaks.html">streaks</a>
              <a href="flashcard.html">flashcards</a>
              <a href="quiz.html">quiz</a>
            </div>
          </div>
        </li>
      </ul>

    </nav>
  </header>

  <section class="main">
    <div class="main-text">
      <h1>ìì‹ ë§Œì˜<br>ì–´íœ˜ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸.</h1>
      <p>ë…¸ë˜ë¥¼ ë“¤ìœ¼ë©° ë‹¨ì–´ì˜ ëœ»ê³¼ ë°œìŒì„ í•¨ê»˜ ìµí˜€ë³´ì„¸ìš”<br>
        WordifyëŠ” ë“£ëŠ” ì¦ê±°ì›€ê³¼ ê³µë¶€ë¥¼ í•˜ë‚˜ë¡œ ì´ì–´ì¤ë‹ˆë‹¤!</p>
      <button>TAKE A LOOK</button>
    </div>
  </section>

  <section class="features">
    <h2>ì´ ê¸°ëŠ¥ë“¤ì„ ì‚¬ìš©í•´ ë³´ì„¸ìš”!</h2>
    <div class="feature-cards">
      <div class="card">
        <h3>ë…¸ë˜ ì¶”ì²œ ë°›ê¸°</h3>
        <div class="placeholder"><img src="../static/music.png"></div>
        <p>ì¶”ì²œ ë°›ì€ ë…¸ë˜ë“¤ì„ ë“¤ìœ¼ë©´ì„œ<br>ëª¨ë¥´ëŠ” ë‹¨ì–´ë¥¼ ì •ë¦¬í•´ë´ìš”</p>
      </div>
      <div class="card">
        <h3>ë‹¨ì–´ì¥ ë§Œë“¤ê¸°</h3>
        <div class="placeholder"><img src="../static/word.png"></div>
        <p>ëª¨ë¥´ëŠ” ë‹¨ì–´ë“¤ì„ ëª¨ì•„ì„œ<br>ë‹¨ì–´ì¥ì„ ë§Œë“¤ê³  í…ŒìŠ¤íŠ¸í•´ë´ìš”</p>
      </div>
      <div class="card">
        <h3>ë‹¤ë¥¸ ì‚¬ìš©ìì™€ ëŒ€ê²°</h3>
        <div class="placeholder"><img src="../static/vs.png"></div>
        <p>í•™ìŠµí•œ ë‹¨ì–´ìˆ˜ë¥¼ ë‹¤ë¥¸ ì‚¬ìš©ìì™€<br>ë¹„êµí•´ë³´ê³  1ë“±ì„ ì°¨ì§€í•´ë³´ì„¸ìš”</p>
      </div>
    </div>
  </section>

  <section class="song-section">
    <h2>ì˜¤ëŠ˜ì˜ ë…¸ë˜</h2>
    <div class="song-content">
      <!-- ì•¨ë²” ì»¤ë²„ ì´ë¯¸ì§€ -->
      <div class="song-cover">
        <a href="{{ track.spotify_url }}" target="_blank">
          <img src="{{ track.album_cover }}" alt="ì•¨ë²” ì»¤ë²„" />
        </a>
        <h3 class="song-title">{{ track.title }}</h3>
        <p class="song-artist">ğŸ‘¤ {{ track.artist }}</p>
      </div>
      
      <!-- ê°€ì‚¬ ì¶œë ¥ -->
      <div class="song-lyrics" >
        {{ track.lyrics }}
      </div> 
    </div>

    <!--ë…¸ë˜ ì„ íƒ-->
    <div class="song-controls">
      <!-- ë‹¤ìŒ ê³¡ ë²„íŠ¼ -->
      <form action="/next" method="get">
        <button class="next-button">ë‹¤ìŒ ê³¡</button>
      </form>
    
      <!-- ì„ íƒí•˜ê¸° ë²„íŠ¼ -->
      <form action="/next" method="get">
        <button class="next-button">ì„ íƒí•˜ê¸°</button>
      </form>
      
      <script>
      document.querySelector('.next-button').addEventListener('click', function (event) {
        event.preventDefault();  // í¼ ì œì¶œ ë§‰ê¸°
    
        fetch('/next-track')
          .then(response => response.json())
          .then(data => {
            if (data.error) {
              alert('ë…¸ë˜ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!');
              return;
            }
    
            document.querySelector('.song-cover img').src = data.album_cover;
            document.querySelector('.song-cover a').href = data.spotify_url;
            document.querySelector('.song-title').textContent = data.title;
            document.querySelector('.song-artist').textContent = 'ğŸ‘¤ ' + data.artist;
            document.querySelector('.song-lyrics').textContent = data.lyrics || 'ê°€ì‚¬ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
          });
      });
      </script>
      

</body>
</html>
